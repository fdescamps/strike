/*!
 * Strike Mobile v1.1
 * http://www.zenexity.com/
 *
 * Date: Tue Dec 28 17:01:02 2010 +0100
 */
(function(r,w){var s=r.document,t=function(){};t.extend=function(e,m){var g=t.prototype.extend;t._prototyping=true;var j=new this;g.call(j,e);j.base=function(){};delete t._prototyping;var a=j.constructor,d=j.constructor=function(){if(!t._prototyping)if(this._constructing||this.constructor==d){this._constructing=true;a.apply(this,arguments);delete this._constructing}else if(arguments[0]!=null)return(arguments[0].extend||g).call(arguments[0],j)};d.ancestor=this;d.extend=this.extend;d.forEach=this.forEach;
d.implement=this.implement;d.prototype=j;d.toString=this.toString;d.valueOf=function(i){return i=="object"?d:a.valueOf()};g.call(d,m);typeof d.init=="function"&&d.init();return d};t.prototype={extend:function(e,m){if(arguments.length>1){var g=this[e];if(g&&typeof m=="function"&&(!g.valueOf||g.valueOf()!=m.valueOf())&&/\bbase\b/.test(m)){var j=m.valueOf();m=function(){var c=this.base||t.prototype.base;this.base=g;var f=j.apply(this,arguments);this.base=c;return f};m.valueOf=function(c){return c=="object"?
m:j};m.toString=t.toString}this[e]=m}else if(e){var a=t.prototype.extend;if(!t._prototyping&&typeof this!="function")a=this.extend||a;for(var d={toSource:null},i=["constructor","toString","valueOf"],o=t._prototyping?0:1;n=i[o++];)e[n]!=d[n]&&a.call(this,n,e[n]);for(var n in e)d[n]||a.call(this,n,e[n])}return this}};t=t.extend({constructor:function(e){this.extend(e)}},{ancestor:Object,version:"1.1",forEach:function(e,m,g){for(var j in e)this.prototype[j]===w&&m.call(g,e[j],j,e)},implement:function(){for(var e=
0;e<arguments.length;e++)typeof arguments[e]=="function"?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}});(function(){function e(b,h){this.element=typeof b=="object"?b:s.getElementById(b);this.wrapper=this.element.parentNode;this.element.style.webkitTransitionProperty="-webkit-transform";this.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)";this.element.style.webkitTransitionDuration="0";this.element.style.webkitTransform=
f+"0,0"+l;this.options={bounce:g,momentum:g,checkDOMChanges:true,topOnDOMChanges:false,hScrollbar:g,vScrollbar:g,fadeScrollbar:j||a||!i,shrinkScrollbar:j||a,desktopCompatibility:false,overflow:"auto"};if(typeof h=="object")for(var k in h)this.options[k]=h[k];if(this.options.desktopCompatibility)this.options.overflow="hidden";this.wrapper.style.overflow=this.options.overflow;this.refresh();r.addEventListener("onorientationchange"in r?"orientationchange":"resize",this,false);if(i||this.options.desktopCompatibility){this.element.addEventListener(o,
this,false);this.element.addEventListener(n,this,false);this.element.addEventListener(c,this,false)}this.options.checkDOMChanges&&this.element.addEventListener("DOMSubtreeModified",this,false);i||this.element.addEventListener("click",this,true)}e.prototype={x:0,y:0,dist:0,handleEvent:function(b){switch(b.type){case "click":b._fake||b.stopPropagation();break;case o:this.touchStart(b);break;case n:this.touchMove(b);break;case c:this.touchEnd(b);break;case "webkitTransitionEnd":this.transitionEnd(b);
break;case "orientationchange":case "resize":this.refresh();break;case "DOMSubtreeModified":this.onDOMModified(b)}},onDOMModified:function(){this.refresh();if(this.options.topOnDOMChanges&&(this.x!=0||this.y!=0))this.scrollTo(0,0,"0")},refresh:function(){var b=this.x,h=this.y;this.scrollWidth=this.wrapper.clientWidth;this.scrollHeight=this.wrapper.clientHeight;this.scrollerWidth=this.element.offsetWidth;this.scrollerHeight=this.element.offsetHeight;this.maxScrollX=this.scrollWidth-this.scrollerWidth;
this.maxScrollY=this.scrollHeight-this.scrollerHeight;if(this.scrollX)if(this.maxScrollX>=0)b=0;else if(this.x<this.maxScrollX)b=this.maxScrollX;if(this.scrollY)if(this.maxScrollY>=0)h=0;else if(this.y<this.maxScrollY)h=this.maxScrollY;if(b!=this.x||h!=this.y){this.setTransitionTime("0");this.setPosition(b,h,true)}this.scrollX=this.scrollerWidth>this.scrollWidth;this.scrollY=!this.scrollX||this.scrollerHeight>this.scrollHeight;if(this.options.hScrollbar&&this.scrollX){this.scrollBarX=this.scrollBarX||
new m("horizontal",this.wrapper,this.options.fadeScrollbar,this.options.shrinkScrollbar);this.scrollBarX.init(this.scrollWidth,this.scrollerWidth)}else if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.options.vScrollbar&&this.scrollY&&this.scrollerHeight>this.scrollHeight){this.scrollBarY=this.scrollBarY||new m("vertical",this.wrapper,this.options.fadeScrollbar,this.options.shrinkScrollbar);this.scrollBarY.init(this.scrollHeight,this.scrollerHeight)}else if(this.scrollBarY)this.scrollBarY=
this.scrollBarY.remove()},setPosition:function(b,h,k){this.x=b;this.y=h;this.element.style.webkitTransform=f+this.x+"px,"+this.y+"px"+l;if(!k){this.scrollBarX&&this.scrollBarX.setPosition(this.x);this.scrollBarY&&this.scrollBarY.setPosition(this.y)}},setTransitionTime:function(b){b=b||"0";this.element.style.webkitTransitionDuration=b;if(this.scrollBarX){this.scrollBarX.bar.style.webkitTransitionDuration=b;this.scrollBarX.wrapper.style.webkitTransitionDuration=g&&this.options.fadeScrollbar?"300ms":
"0"}if(this.scrollBarY){this.scrollBarY.bar.style.webkitTransitionDuration=b;this.scrollBarY.wrapper.style.webkitTransitionDuration=g&&this.options.fadeScrollbar?"300ms":"0"}},touchStart:function(b){var h;this.scrolling=true;b.preventDefault();b.stopPropagation();this.moved=false;this.dist=0;this.setTransitionTime("0");if(this.options.momentum){h=new WebKitCSSMatrix(r.getComputedStyle(this.element).webkitTransform);if(h.e!=this.x||h.f!=this.y){this.element.removeEventListener("webkitTransitionEnd",
this,false);this.setPosition(h.e,h.f);this.moved=true}}this.touchStartX=i?b.changedTouches[0].pageX:b.pageX;this.scrollStartX=this.x;this.touchStartY=i?b.changedTouches[0].pageY:b.pageY;this.scrollStartY=this.y;this.scrollStartTime=b.timeStamp},touchMove:function(b){var h=i?b.changedTouches[0].pageX:b.pageX;b=i?b.changedTouches[0].pageY:b.pageY;var k=this.scrollX?h-this.touchStartX:0,p=this.scrollY?b-this.touchStartY:0,u=this.x+k,v=this.y+p;if(this.scrolling){this.dist+=Math.abs(this.touchStartX-
h)+Math.abs(this.touchStartY-b);this.touchStartX=h;this.touchStartY=b;if(u>0||u<this.maxScrollX)u=this.options.bounce?Math.round(this.x+k/3):u>=0?0:this.maxScrollX;if(v>0||v<this.maxScrollY)v=this.options.bounce?Math.round(this.y+p/3):v>=0?0:this.maxScrollY;if(this.dist>5){this.setPosition(u,v);this.moved=true}}},touchEnd:function(b){var h=b.timeStamp-this.scrollStartTime,k;if(this.scrolling){this.scrolling=false;if(this.moved)if(!this.options.momentum||h>250)this.resetPosition();else{b=this.scrollX===
true?this.momentum(this.x-this.scrollStartX,h,this.options.bounce?-this.x+this.scrollWidth/5:-this.x,this.options.bounce?this.x+this.scrollerWidth-this.scrollWidth+this.scrollWidth/5:this.x+this.scrollerWidth-this.scrollWidth):{dist:0,time:0};h=this.scrollY===true?this.momentum(this.y-this.scrollStartY,h,this.options.bounce?-this.y+this.scrollHeight/5:-this.y,this.options.bounce?(this.maxScrollY<0?this.y+this.scrollerHeight-this.scrollHeight:0)+this.scrollHeight/5:this.y+this.scrollerHeight-this.scrollHeight):
{dist:0,time:0};if(!b.dist&&!h.dist)this.resetPosition();else{k=Math.max(Math.max(b.time,h.time),1);b=this.x+b.dist;this.scrollTo(b,this.y+h.dist,k+"ms")}}else{this.resetPosition();for(h=i?b.changedTouches[0].target:b.target;h.nodeType!=1;)h=h.parentNode;k=s.createEvent("Event");k.initEvent("focus",true,true);h.dispatchEvent(k);k=s.createEvent("MouseEvents");k.initMouseEvent("click",true,true,b.view,1,h.screenX,h.screenY,h.clientX,h.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);k._fake=
true;h.dispatchEvent(k)}}},transitionEnd:function(){this.element.removeEventListener("webkitTransitionEnd",this,false);this.resetPosition()},resetPosition:function(b){var h=this.x,k=this.y;b=b||"500ms";if(this.x>=0)h=0;else if(this.x<this.maxScrollX)h=this.maxScrollX;if(this.y>=0||this.maxScrollY>0)k=0;else if(this.y<this.maxScrollY)k=this.maxScrollY;if(h!=this.x||k!=this.y)this.scrollTo(h,k,b);else if(this.scrollBarX||this.scrollBarY){this.scrollBarX&&this.scrollBarX.hide();this.scrollBarY&&this.scrollBarY.hide()}},
scrollTo:function(b,h,k){this.setTransitionTime(k||"450ms");this.setPosition(b,h);k==="0"||k=="0s"||k=="0ms"?this.resetPosition():this.element.addEventListener("webkitTransitionEnd",this,false)},scrollToElement:function(b,h){if(b=typeof b=="object"?b:this.element.querySelector(b)){var k=this.scrollX?-b.offsetLeft:0,p=this.scrollY?-b.offsetTop:0;if(k>=0)k=0;else if(k<this.maxScrollX)k=this.maxScrollX;if(p>=0)p=0;else if(p<this.maxScrollY)p=this.maxScrollY;this.scrollTo(k,p,h)}},momentum:function(b,
h,k,p){h=Math.abs(b)/h*1E3;var u=h*h/2.5/1E3,v=0;if(b>0&&u>k){h=h*k/u/2.5;u=k}else if(b<0&&u>p){h=h*p/u/2.5;u=p}u*=b<0?-1:1;v=h/1.2;return{dist:Math.round(u),time:Math.round(v)}},destroy:function(b){r.removeEventListener("orientationchange",this,false);r.removeEventListener("resize",this,false);this.element.removeEventListener(o,this,false);this.element.removeEventListener(n,this,false);this.element.removeEventListener(c,this,false);this.element.removeEventListener("DOMSubtreeModified",this,false);
this.element.removeEventListener("click",this,true);this.element.removeEventListener("webkitTransitionEnd",this,false);if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.scrollBarY)this.scrollBarY=this.scrollBarY.remove();b&&this.wrapper.parentNode.removeChild(this.wrapper);return null}};var m=function(b,h,k,p){this.dir=b;this.fade=k;this.shrink=p;this.uid=++q;this.bar=s.createElement("div");b="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:rgba(0,0,0,0.5);-webkit-transform:"+
f+"0,0"+l+";"+(b=="horizontal"?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px");this.bar.setAttribute("style",b);this.wrapper=s.createElement("div");b="-webkit-mask:-webkit-canvas(scrollbar"+this.uid+this.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(k?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+(this.dir=="horizontal"?"bottom:2px;left:1px;right:7px;height:5px":
"top:1px;right:2px;bottom:7px;width:5px;");this.wrapper.setAttribute("style",b);this.wrapper.appendChild(this.bar);h.appendChild(this.wrapper)};m.prototype={init:function(b,h){var k,p;if(this.dir=="horizontal"){p=this.wrapper.offsetWidth;k=s.getCSSCanvasContext("2d","scrollbar"+this.uid+this.dir,p,5);k.fillStyle="rgb(0,0,0)";k.beginPath();k.arc(2.5,2.5,2.5,Math.PI/2,-Math.PI/2,false);k.lineTo(p-2.5,0);k.arc(p-2.5,2.5,2.5,-Math.PI/2,Math.PI/2,false)}else{p=this.wrapper.offsetHeight;k=s.getCSSCanvasContext("2d",
"scrollbar"+this.uid+this.dir,5,p);k.fillStyle="rgb(0,0,0)";k.beginPath();k.arc(2.5,2.5,2.5,Math.PI,0,false);k.lineTo(5,p-2.5);k.arc(2.5,p-2.5,2.5,0,Math.PI,false)}k.closePath();k.fill();this.maxSize=this.dir=="horizontal"?this.wrapper.clientWidth:this.wrapper.clientHeight;this.size=Math.round(this.maxSize*this.maxSize/h);this.maxScroll=this.maxSize-this.size;this.toWrapperProp=this.maxScroll/(b-h);this.bar.style[this.dir=="horizontal"?"width":"height"]=this.size+"px"},setPosition:function(b,h){!h&&
this.wrapper.style.opacity!="1"&&this.show();b=this.toWrapperProp*b;if(b<0){b=this.shrink?b+b*3:0;if(this.size+b<5)b=-this.size+5}else if(b>this.maxScroll){b=this.shrink?b+(b-this.maxScroll)*3:this.maxScroll;if(this.size+this.maxScroll-b<5)b=this.size+this.maxScroll-5}b=this.dir=="horizontal"?f+Math.round(b)+"px,0"+l:f+"0,"+Math.round(b)+"px"+l;this.bar.style.webkitTransform=b},show:function(){if(g)this.wrapper.style.webkitTransitionDelay="0";this.wrapper.style.opacity="1"},hide:function(){if(g)this.wrapper.style.webkitTransitionDelay=
"200ms";this.wrapper.style.opacity="0"},remove:function(){this.wrapper.parentNode.removeChild(this.wrapper);return null}};var g="WebKitCSSMatrix"in r&&"m11"in new WebKitCSSMatrix,j=/iphone/gi.test(navigator.appVersion),a=/ipad/gi.test(navigator.appVersion),d=/android/gi.test(navigator.appVersion),i=j||a||d,o=i?"touchstart":"mousedown",n=i?"touchmove":"mousemove",c=i?"touchend":"mouseup",f="translate"+(g?"3d(":"("),l=g?",0)":")",q=0;r.iScroll=e})();(function(){var e=this,m=e.$,g=function(a,d){if(!g.is(a,
"string"))return a;d=d||s;return/^[0-9a-zA-Z_\-\s]*\#[0-9a-zA-Z_\-]*$/.test(a)?d.querySelector(a):d.querySelectorAll(a)},j=function(a,d){var i=g(d[0]),o=[].slice.call(d,1);if(!i)return null;return!i.length||i===r?a.apply(this,[i].concat(o)):g.each(i,function(n){j(a,[n].concat(o))})};e.$=e.Strike$=g;g.VERSION="0.2";g.noConflict=function(){e.$=m;return this};g.each=function(a,d){a=g(a);for(var i=0;i<a.length;i++)d(a[i],i)};g.map=function(a,d){var i=[];g.each(a,function(o,n){i.push(d(o,n))});return i};
g.is=function(a,d){d=String(d).toLowerCase();return d=="null"&&a===null||d==typeof a||d=="object"&&a===Object(a)||d=="array"&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).slice(8,-1).toLowerCase()==d};g.hasClass=function(a,d){a=g(a);if(!a)return null;if(a.length)a=a[0];var i=a.className;return i.length>0&&(i==d||RegExp("(^|\\s)"+d+"(\\s|$)").test(i))};g.addClass=function(){return j(function(a,d){g.hasClass(a,d)||(a.className+=(a.className?" ":"")+d);return a},arguments)};g.removeClass=
function(){return j(function(a,d){if(a.className&&d){a.className=a.className.replace(RegExp("\\b("+d.replace(/\s+/g,"|")+")\\b","g")," ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"");return a}},arguments)};g.css=function(){return j(function(a,d,i){if(i)a.style.setProperty(d,i);else return r.getComputedStyle(a,null)[d]},arguments)};g.show=function(){return j(function(a){a.style.display="block"},arguments)};g.hide=function(){return j(function(a){a.style.display="none"},arguments)};g.width=function(a){return g.css(a,
"width").replace("px","")};g.height=function(a){return g.css(a,"height")};g.on=function(){j(function(a,d,i,o){a.addEventListener(d,i,o)},arguments)};g.once=function(){j(function(a,d,i,o){g.on(a,d,function n(){this.removeEventListener(d,n,o);i()},o)},arguments)};g.ajax=function(a,d,i){var o="json",n=function(b){throw b;},c=function(){},f=a.params,l=a.async===w?true:a.async;if(a.constructor!=String){o=(a.type||o).toLowerCase();d=a.url;i=a.success||i;n=a.error||n;c=a.complete||c;a=a.method||"GET"}var q=
new XMLHttpRequest;q.open(a,d,l);q.setRequestHeader("Accept",o=="html"?"text/html":"text/json");q.onreadystatechange=function(){if(this.readyState==4&&this.status==200)try{if(this.responseXML)i(this.responseXML);else{var b=o=="html"?this.responseText:eval("("+this.responseText+")");i(b);c()}}catch(h){console.log("cannot parse json because of "+h);n(h);c()}if(this.readyState==4&&this.status!=200){n(this.status);c()}};q.send(f)}})();(function(e){Strike={commandQueue:[],currentPage:null,previousPage:null,
currentPanel:null,currentOverlay:null,serverURL:s.location.protocol+"//"+s.location.host,onMobile:/iphone|ipad|android/gi.test(navigator.userAgent),storage:r.localStorage,handlers:{},fallbackLanguage:"en",browserLanguage:navigator.language.substring(0,2),messages:{},init:function(){j();this.bindScrollers()},template:function(c,f,l){c=e(c);var q=Strike.tmpl(f,l);e.each(c.length?c:[c],function(b){b.innerHTML=q;n(b)});return c},maps:function(c){r.open("http://maps.google.com?"+c)},locate:function(c){Strike.handlers.locate=
c;if(navigator.geolocation){Strike.stopLocate();Strike.watchPosition=navigator.geolocation.watchPosition(function(f){c(f.coords)})}},stopLocate:function(){Strike.watchPosition&&navigator.geolocation.clearWatch(Strike.watchPosition)},open:function(c){r.open(c)},reverseGeoCode:function(c){this.handlers.reverseGeoCode=c},lang:function(c){c(Strike.browserLanguage)},setMessages:function(c,f){if(!c[f])f=Strike.fallbackLanguage;Strike.messages=c[f];$each(".i18n",function(l){var q=Strike.message(l.id);if(q)l.innerHTML=
q})},message:function(c){return Strike.messages[c]},onready:function(c){m.push(c)},ready:function(){this.init();e.each(m,function(c){c()})},onorientationchange:function(c){g.push(c)},orientationChange:function(c){e.each(g,function(f){f(c)})},Transition:function(c,f,l){c=e(c);f=e(f);if(!e.hasClass(c,"current")){l=l||{};l.type=l.type||"push";l.reverse=l.reverse||false;e.addClass(c,l.type+" in current"+(l.reverse?" reverse":""));e.addClass(f,l.type+" out"+(l.reverse?" reverse":""));c.addEventListener("webkitAnimationEnd",
function q(){e.removeClass(f,"current "+l.type+" out");e.removeClass(c,l.type+" in");if(l.reverse){e.removeClass(c,"reverse");e.removeClass(f,"reverse")}this.removeEventListener("webkitAnimationEnd",q,false);l.callback&&l.callback()},false)}},show:function(c,f){a("show",0.35,"linear",false,c,null,f)},flip:function(c,f){a("flip",0.65,"linear",false,c,null,f)},unflip:function(c,f){a("flip",0.65,"linear",true,c,null,f)},next:function(c,f){a("push",0.35,"ease",false,c,null,f)},prev:function(c,f){a("push",
0.35,"ease",true,c,null,f)},rotateRight:function(c,f){a("cube",0.55,"ease",false,c,null,f)},rotateLeft:function(c,f){a("cube",0.55,"ease",true,c,null,f)},fade:function(c,f){a("fade",0.35,"linear",false,c,null,f)},swap:function(c,f){a("swap",0.55,"linear",false,c,null,f)},reverseTransitions:{rotateRight:"rotateLeft",rotateLeft:"rotateRight",prev:"next",next:"prev",show:"show",fade:"fade",flip:"unflip"},back:function(){Strike.previousPage&&Strike.prev(Strike.previousPage)},rebindScroller:function(){var c=
e(Strike.currentPage+" .scrollView");c.length&&c[0].scroller&&c[0].scroller.refresh()},bindScrollers:function(c){c=c?c+" ":"";e.each(c+".scrollView",function(f){f.scroller=new iScroll(f.firstChild.nextSibling,{desktopCompatibility:!this.onMobile})})},openPanel:function(c){var f=new Transition("slide",0.35,"ease");f.direction="bottom-top";f.perform(e(c),e(Strike.currentPage),false);Strike.currentPanel=c},closePanel:function(){var c=new Transition("slide",0.35,"ease");c.direction="bottom-top";c.perform(e(Strike.currentPage),
e(Strike.currentPanel),true);setTimeout(function(){e(Strike.currentPanel).style.display="";Strike.currentPanel=null},500)},showOverlay:function(c,f){var l=e(c);l.style.position="absolute";l.style.top="0";l.style.left="0";l.style.opacity="0";l.style.zIndex="1000";l.style.display="block";setTimeout(function(){l.style.webkitTransition="opacity .25s linear";l.style.opacity=f?f:"1"},0);Strike.currentOverlay=c},hideOverlay:function(c){var f=e(Strike.currentOverlay),l=function(){f.style.webkitTransition=
"";f.style.display="none";f.removeEventListener("webkitTransitionEnd",l,false)};if(c)f.style.display="none";else f.addEventListener("webkitTransitionEnd",l,false);f.style.opacity="0"}};var m=[],g=[],j=function(){if(!Strike.onMobile)for(var c=["uncached","idle","checking","downloading","updateready","obsolete"],f=["cached","checking","downloading","error","noupdate","obsolete","progress","updateready"],l=0;l<f.length;l++)r.applicationCache.addEventListener(f[l],function(q){var b="online: "+navigator.onLine?
"yes":"no";b+=", event: "+q.type;b+=", status: "+c[cache.status];if(q.type=="error"&&navigator.onLine)b+=" (probably a syntax error in manifest)";console.log(b)},false)},a=function(c,f,l,q,b,h,k){d(b);h=h||Strike.currentPage;Strike.previousPage=h;f=e(b);Strike.Transition(f,e(h),{type:c,reverse:q,callback:k});Strike.currentPage=b;Strike.rebindScroller()},d=function(c){e.each(e(c).querySelectorAll(".list li"),function(f){e.removeClass(f,"selected")})},i=function(c){for(var f=c.target,l=0;f!=null&&l<
10;){if(f.tagName){if(e.hasClass(f,"button")||e.hasClass(f,"submit-button")){e.addClass(f,"selected");break}if(f.tagName=="LI"&&e.hasClass(f.parentNode,"list")){e.each(f.parentNode.querySelectorAll("li"),function(q){e.removeClass(q,"selected")});e.addClass(f,"selected");c.preventDefault();break}}l++;f=f.parentNode}},o=function(c){c=c.target;for(var f=0;c!=null&&f<10;){if(c.className)if(e.hasClass(c,"button")||e.hasClass(c,"submit-button")){e.removeClass(c,"selected");break}f++;c=c.parentNode}},n=
function(c){Strike.onMobile||!c.hasChildNodes||e.each(c.childNodes,function(f){f.hasChildNodes()&&n(f);if(f.getAttribute){var l=f.getAttribute("ontouchstart");if(f.getAttribute("ontouchend")!=null)l+=";"+f.getAttribute("ontouchend");if(l)f.onclick=function(){eval(l)}}})};e.on(r,"load",function(){n(s);e.on(s.body,"touchstart",i);e.on(s.body,"touchend",o);e.on(s.body,"blur",function(){r.scrollTo(0,0)},true);Strike.ready()});e.on(r.applicationCache,"updateready",function(){r.applicationCache.swapCache();
console.log("swap cache has been called")});this.Strike=Strike})(Strike$);(function(){var e={};Strike.tmpl=function m(g,j){var a;if(/\W/.test(g))a=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+g.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');");else{try{e[g]||(e[g]=m(s.getElementById(g).innerHTML))}catch(d){console.log("error when rendering #"+
g+" :: "+d.message)}a=e[g]}return j?a(j):a}})();(function(){var e={},m=[],g={},j={controllers:{},register:function(a,d){this.controllers[a]=d},observe:function(a,d){if(e[a]==null)e[a]=[];e[a].push(d)},message:function(a){var d,i;switch(typeof a=="string"?a:a.type){case "event":i=e[a.eventType]||[];for(var o=0;o<i.length;o++)try{i[o](a.data)}catch(n){console.log("error when executing handler for event "+a.eventType,n)}break;case "load":d=this.controllers[a.id];g={transition:a.transition?a.transition:
"show",id:a.id,label:d?d.label:a.id,data:a.data};j.trigger("strike-page-loading",a.data);d&&d.load?d.load(a.data):j.message({type:"loaded",data:{}});break;case "loaded":m.push(g);j.trigger("strike-page-loaded",g);Strike[g.transition]("#"+g.id,function(){(d=j.controllers[g.id])&&d.loaded&&d.loaded(a.data)});break;case "error":j.trigger("strike-page-error",a);alert(a.message);break;case "back":j.trigger("strike-page-back",{});if(this.controllers[m[m.length-2].id])(i=this.controllers[m[m.length-2].id])&&
i.reload&&i.reload();this.precedent();break;default:console.log("no handler for message : "+a)}},precedent:function(){var a=m.pop();Strike[Strike.reverseTransitions[a.transition]]("#"+m[m.length-1].id)},precedentLabel:function(){try{var a;a=g?Strike.message(m[m.length-1].label):Strike.message(m[m.length-2].label)}catch(d){}return a?a:""},trigger:function(a,d){j.message({type:"event",eventType:a,data:d})},show:function(a){j.message({type:"load",id:a,transition:"show"})},fade:function(a){j.message({type:"load",
id:a,transition:"fade"})},next:function(a){j.message({type:"load",id:a,transition:"next"})},flip:function(a){j.message({type:"load",id:a,transition:"flip"})}};this.StrikeMan=j})();(function(e,m){var g=[],j={};j.Base=m.extend({constructor:function(a){this.id=a;StrikeMan.register(a,this)},ready:function(){},load:function(){StrikeMan.message("loaded")}});j.List=j.Base.extend({constructor:function(a){this.base(a)},loaded:function(){StrikeCon.bindLinkNavList("#"+this.id+" ul")}});StrikeMan.add=function(a,
d,i){if(typeof d!=="string"){i=d;d="Base"}g.push({id:a,extend:d,defn:i})};Strike.onready(function(){e.each(g,function(a){a=new (j[a.extend].extend(a.defn))(a.id);a.ready&&a.ready()})});this.StrikeMan.Controllers=j})(Strike$,t);(function(e,m){var g={autoTitles:true,titleClass:"#{view} .strike-title",setPageTitle:function(j,a){var d=this.titleClass.replace("{view}",j);d=e(d);if(d.length&&a)d[0].innerHTML=a},bindLinkNavList:function(j,a,d){if(e.is(a,"function")){d=a;a=true}e.is(a,"boolean")||(a=true);
d=d||function(i){i=i.querySelector("a");m.message({type:"load",id:i.hash.slice(1),data:{link:i,autoLabel:a?i.innerHTML:null},transition:i.className||"show"})};e.each(j+" li",function(i){e.on(i,"click",function(){d(this)});e.on(i.querySelector("a"),"click",function(o){o.preventDefault()})})}};g.autoTitles&&m.observe("strike-page-loaded",function(j){var a=m.controllers[j.id];if(a&&(a.autoTitles===w||a.autoTitles))g.setPageTitle(j.id,j.data&&j.data.autoLabel||j.label)});this.StrikeCon=g})(Strike$,StrikeMan)})(window);
